<svg height="134.39mm" viewBox="0 0 979.06 476.18" width="276.31mm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><marker id="a" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#edd400;fill-rule:evenodd;stroke:#edd400;stroke-width:1pt" transform="scale(-.4)"/></marker><marker id="b" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#edd400;fill-rule:evenodd;stroke:#edd400;stroke-width:1pt" transform="scale(-.4)"/></marker><marker id="c" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#edd400;fill-rule:evenodd;stroke:#edd400;stroke-width:1pt" transform="scale(-.4)"/></marker><marker id="d" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="e" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="f" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="g" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="h" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="i" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#f0f;fill-rule:evenodd;stroke:#f0f;stroke-width:.4pt"/></marker><marker id="j" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#f0f;fill-rule:evenodd;stroke:#f0f;stroke-width:.4pt"/></marker><marker id="k" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#00f;fill-rule:evenodd;stroke:#00f;stroke-width:.4pt"/></marker><marker id="l" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#729fcf;fill-rule:evenodd;stroke:#729fcf;stroke-width:.4pt"/></marker><marker id="m" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m2.31 0-3.46 2v-4z" style="fill:#729fcf;fill-rule:evenodd;stroke:#729fcf;stroke-width:.4pt"/></marker><g transform="translate(140.46 40.47)"><path d="m41.1-35.87h520.87v467.49h-520.87z" style="fill:none;stroke:#729fcf;stroke-width:1.1"/><path d="m49.09.24h227.89v53.04h-227.89z" style="fill:none;stroke:#00f;stroke-width:1.1"/><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="44.69" xml:space="preserve" y="-24.07"><tspan style="font-weight:bold" x="44.69" y="-24.07">Cluster node</tspan><tspan x="44.69" y="-14.07">(all nodes are <tspan style="fill:#f00">equivalent</tspan>)</tspan></text><g style="fill:none"><g style="stroke-width:1.1"><path d="m600.85 31.61h222.7v20.51h-222.7z" style="stroke:#edd400"/><path d="m596.5 86.08h231.72v-70.92h-231.72z" style="stroke:#888a85"/><path d="m596.44 126.97h231.53v-33.24h-231.53z" style="stroke:#888a85"/><path d="m717.69 80.06h105.61v-22.33h-105.61z" style="stroke:#f0f"/><path d="m601.46 80.17h110.68v-22.33h-110.68z" style="stroke:#00f"/><path d="m193.53 38.79h71.54v-26.41h-71.54z" style="stroke:#6ec814"/></g><g style="stroke:#6ec814;stroke-width:1.08;stroke-miterlimit:10"><ellipse cx="-55.2" cy="311.96" rx="81.18" ry="7.07"/><path d="m26.33 369.63c0 3.91-36.42 7.07-81.34 7.07s-81.34-3.17-81.34-7.07"/><path d="m-136.37 370.01v-59.16m162.34 0v59.16"/></g></g><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="53.11" xml:space="preserve" y="11.87"><tspan x="53.11" y="11.87">Cluster service [1]</tspan><tspan x="53.11" y="21.87"> - Monitor cluster objects</tspan><tspan x="53.11" y="31.87"> - Handle event notification</tspan><tspan x="53.11" y="41.87"> - Perform failover and failback </tspan></text><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="198.73" y="23.06"><tspan x="198.73" y="23.06">Local copy of</tspan><tspan x="198.73" y="33.06">cluster config</tspan></text><g style="fill:none"><path d="m49.52 72.02h343.9v155.54h-343.9z" style="stroke:#00f;stroke-width:1.1"/><path d="m57.75 100.76h244.41v36.67h-244.41z" style="stroke:#edd400;stroke-width:1.1"/><g style="stroke:#81537e;stroke-width:1.21" transform="matrix(1.01 0 0 .82 -134.11 173.48)"><path d="m187.46 3.05h109.19v53.69h-109.19z" style="stroke:#00f"/><path d="m302.88 3.05h104.41v53.69h-104.41z" style="stroke:#00f"/><path d="m413.69 3.05h104.41v53.69h-104.41z" style="stroke:#f0f"/></g></g><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="55.51" xml:space="preserve" y="83.91"><tspan x="55.51" y="83.91">Resource Monitors</tspan><tspan x="55.51" y="93.91"> - Check health status of resources</tspan></text><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="63.89" xml:space="preserve" y="111.23"><tspan x="63.89" y="111.23">Resource API</tspan><tspan x="63.89" y="121.23"> - Interface methods to handle a resource</tspan><tspan x="63.89" y="131.23"> - check status, start/stop ...</tspan></text><path d="m88.82 173.87.65-8.86 14.39.04-.12-27.55" style="fill:none;stroke:#edd400;marker-start:url(#a)"/><g style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0"><text x="108.93" xml:space="preserve" y="149.14"><tspan x="108.93" y="149.14">Selects the API implementation</tspan><tspan x="108.93" y="159.14">based on the <tspan style="fill:#f00">resource type</tspan></tspan></text><text x="57.58" xml:space="preserve" y="188.78"><tspan x="57.58" y="188.78">Standard resource DLLs</tspan><tspan x="57.58" y="198.78"> - For the types provided</tspan><tspan x="57.58" y="208.78">   out of the box</tspan></text><text x="173.83" xml:space="preserve" y="188.35"><tspan x="173.83" y="188.35">Generic resource DLLs</tspan><tspan x="173.83" y="198.35"> - Implementations for</tspan><tspan x="173.83" y="208.35">   services, scripts ....</tspan></text><text x="285.98" xml:space="preserve" y="188.57"><tspan x="285.98" y="188.57">Custom resource DLLs</tspan><tspan x="285.98" y="198.57"> - Implement custom </tspan><tspan x="285.98" y="208.57">   checks for your apps</tspan></text></g><g style="fill:none"><g style="stroke:#edd400"><path d="m186.49 173.91-3.62-8.86-79.65.04.68-27.55" style="marker-start:url(#b)"/><path d="m303.14 173.64-8.7-8.86-191.61.04 1.63-27.55" style="marker-start:url(#c)"/><path d="m359.3 26.12h181.56v30.09h-181.56z" style="stroke-width:1.1"/></g><path d="m352.34 62.16h194.36v-86.52h-194.36z" style="stroke:#f00;stroke-width:1.1"/></g><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="356.07" xml:space="preserve" y="-11.12"><tspan x="356.07" y="-11.12">Cluster aware application resource</tspan><tspan x="356.07" y="-1.12"> - Recieves notifications on cluster status</tspan><tspan x="356.07" y="8.88"> - Can be used to create new infrastructure</tspan><tspan x="356.07" y="18.88">   Ex: highly available scheduler</tspan></text><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="415.32" y="44.91"><tspan x="415.32" y="44.91">Cluster API [4]</tspan></text><path d="m588.1-36.37h246.4v169.73h-246.4z" style="fill:none;stroke:#729fcf;stroke-width:1.1"/><g style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0"><text x="593.62" xml:space="preserve" y="-24.31"><tspan x="593.62" y="-24.31">Admin host</tspan><tspan x="593.62" y="-14.31"> - Declares new resources types</tspan><tspan x="593.62" y="-4.31"> - Spawns new resources</tspan><tspan x="593.62" y="5.69"> - Queries cluster status</tspan></text><text x="600.99" y="26.33"><tspan x="600.99" y="26.33">Admin GUI</tspan></text><text x="670.84" y="44.86"><tspan x="670.84" y="44.86">Cluster Admin API</tspan></text><text x="614.83" y="71.76"><tspan x="614.83" y="71.76">StandardType DLL</tspan></text><text x="736.95" y="71.39"><tspan x="736.95" y="71.39">CustomType DLL</tspan></text><text x="659.27" y="113.48"><tspan x="659.27" y="113.48">Powershell interface [5]</tspan></text><text x="-132.65" xml:space="preserve" y="331.58"><tspan x="-132.65" y="331.58">Cluster configuration [3]</tspan><tspan x="-132.65" y="341.58"> - Key-value store</tspan><tspan x="-132.65" y="351.58"> - Contains information/status about </tspan><tspan x="-132.65" y="361.58">   nodes, resources ...</tspan></text></g><path d="m166.6 52.68v16.24" style="fill:#00f;fill-rule:evenodd;stroke:#00f;marker-end:url(#d)"/><text x="-171.06" y="66.59"><tspan x="-171.06" y="66.59"/></text><path d="m58.02 296.11h197.5v46.33h-197.5z" style="fill:none;stroke:#00f;stroke-width:1.1"/><path d="m49.85 263.91h213.09v144.11h-213.09z" style="fill:none;stroke:#729fcf;stroke-width:1.1;stroke-dasharray:6.6 2.2"/><g style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0"><text x="55.14" xml:space="preserve" y="276.11"><tspan x="55.14" y="276.11">Core resource group [2]</tspan><tspan x="55.14" y="286.11"> - Needs to be up for the node to be available </tspan></text><text x="61.19" xml:space="preserve" y="307.05"><tspan x="61.19" y="307.05"> - IP Adress</tspan><tspan x="61.19" y="317.05"> - Network Name</tspan><tspan x="61.19" y="327.05">The node that owns these resources is</tspan><tspan x="61.19" y="337.05">the one reachable through the cluster name </tspan></text><text x="60.82" xml:space="preserve" y="363.45"><tspan x="60.82" y="363.45">Quorum resource</tspan><tspan x="60.82" y="373.45"> - Maintains consistency of cluster config</tspan><tspan x="60.82" y="383.45"> - Handles network partitions, only the group</tspan><tspan x="60.82" y="393.45">   of nodes holding the quorum can be up </tspan></text></g><path d="m57.83 352.88h197.5v46.33h-197.5z" style="fill:none;stroke:#00f;stroke-width:1.1"/><path d="m57.51 368.75-30.8-28.66" style="fill:#00f;fill-rule:evenodd;stroke:#00f;marker-end:url(#e)"/><g transform="translate(553.24 -142.11)"><g style="fill:none;stroke-width:1.1"><path d="m-275.85 495.56h153.55v-37.54h-153.55z" style="stroke:#00f"/><path d="m-284.47 405.66h283.96v161.55h-283.96z" style="stroke:#ff5b5b;stroke-dasharray:6.6 2.2"/><path d="m-273.62 561.97h117.93v-26.04h-117.93z" style="stroke:#f00"/></g><g style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0"><text x="-280.55" xml:space="preserve" y="417.62"><tspan x="-280.55" y="417.62">App resource group</tspan><tspan x="-280.55" y="427.62"> - All resources in a group are owned by the same node</tspan><tspan x="-280.55" y="437.62"> - All resources in the group failover together</tspan><tspan x="-280.55" y="447.62"> - Resource dependencies cannot pass groups boundary </tspan></text><text x="-272.02" xml:space="preserve" y="468.82"><tspan x="-272.02" y="468.82">Framework resources</tspan><tspan x="-272.02" y="478.82"> - Provided out of the box</tspan><tspan x="-272.02" y="488.82"> - Ex : distributed tx, disk storage ... </tspan></text><text x="-270.68" xml:space="preserve" y="546.38"><tspan x="-270.68" y="546.38">User application resource</tspan><tspan x="-270.68" y="556.38">(custom type) </tspan></text></g><path d="m-139.86 561.6h117.93v-26.04h-117.93z" style="fill:none;stroke:#f00;stroke-width:1.1"/><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="-136.91" xml:space="preserve" y="546.01"><tspan x="-136.91" y="546.01">User application resource</tspan><tspan x="-136.91" y="556.01">(generic type) </tspan></text><path d="m-231.98 495.02-20.04 38.74" style="fill:#00f;fill-rule:evenodd;stroke:#00f;marker-end:url(#f)"/><text style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" x="-232.83" xml:space="preserve" y="509.64"><tspan x="-232.83" y="509.64">Resource dependecies</tspan><tspan x="-232.83" y="519.64"> - Cluster ensures dependency hierarchy</tspan><tspan x="-232.83" y="529.64">   is init in the right order</tspan></text></g><g style="fill-rule:evenodd"><path d="m139.88 220.33v40.7" style="fill:#00f;stroke:#00f;marker-end:url(#g)"/><path d="m307.6 248.2v12.44" style="fill:#00f;stroke:#00f;marker-end:url(#h)"/><path d="m360.66 220v40.78" style="fill:#f0f;stroke:#f0f;marker-end:url(#i)"/><g style="fill:#00f;stroke:#00f"><path d="m139.18 249.6h168.37"/><path d="m205.56 219.51v30.34"/></g></g><path d="m387.37 196.55 24.58.07.28-131.82" style="fill:none;stroke:#f0f;marker-end:url(#j)"/><g style="fill-rule:evenodd"><path d="m277.01 42.92h80.05" style="fill:#00f;stroke:#00f;marker-end:url(#k)"/><g style="fill:#729fcf;stroke:#729fcf"><path d="m596.14 27.86h-30.95" style="marker-end:url(#l)"/><path d="m596.93 105.44h-32.02" style="marker-end:url(#m)"/></g></g></g></svg>