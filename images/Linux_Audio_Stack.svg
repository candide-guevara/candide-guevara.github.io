<svg height="800" width="1300" viewBox="0 0 680.46 546.74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><marker id="a" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#505050;fill-rule:evenodd;stroke:#505050;stroke-width:1pt" transform="scale(-.8)"/></marker><marker id="b" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#505050;fill-rule:evenodd;stroke:#505050;stroke-width:1pt" transform="scale(-.8)"/></marker><marker id="c" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#505050;fill-rule:evenodd;stroke:#505050;stroke-width:1pt" transform="scale(-.8)"/></marker><marker id="d" orient="auto" refX="0" refY="0" style="overflow:visible"><path d="m5.77 0-8.65 5v-10z" style="fill:#505050;fill-rule:evenodd;stroke:#505050;stroke-width:1pt" transform="scale(-.8)"/></marker><g style="fill:#000" transform="translate(92.29 163.29)"><text x="276.06" y="-10.96"><tspan x="276.06" y="-10.96"/></text><text x="361.77" y="20.95"><tspan x="361.77" y="20.95"/></text><text x="612.6" y="108.89"><tspan x="612.6" y="108.89"/></text><text x="580.69" y="222.06"><tspan x="580.69" y="222.06"/></text></g><g style="fill:none;stroke-width:1.1"><path d="m171.78.56h173.62v41.97h-173.62z" style="stroke:#3465a4"/><g style="stroke:#00f"><path d="m171.52 50.34h173.62v41.97h-173.62z"/><path d="m170.53 150.12h343.09v56.5h-343.09z"/></g></g><g style="fill:#000;font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" transform="translate(92.29 163.29)"><text x="106.94" y="-139"><tspan>KDE Application</tspan><tspan>(ex: Amarok)</tspan></text><text x="315.87" y="-137.64"><tspan x="315.87" y="-137.64">VLC player</tspan></text><text x="111.63" y="-45.96"><tspan x="111.63" y="-45.96">Gstreamer</tspan><tspan x="111.63" y="-35.96">Decodes audio formats</tspan></text><text x="85.46" y="-96.09"><tspan x="85.46" y="-96.09">Phonon</tspan><tspan x="85.46" y="-86.09">Abstraction layer over audio streams</tspan></text><text x="304.99" y="-93.98"><tspan x="304.99" y="-93.98">libav/ffmpeg</tspan><tspan x="304.99" y="-83.98">codec libraries</tspan></text><text x="157.84" y="6.26"><tspan x="157.84" y="6.26">Pulse audio daemon</tspan><tspan x="157.84" y="16.26">Mixes audio from all desktop apps</tspan><tspan x="157.84" y="26.26">Also a good place to set resampling configs</tspan></text></g><g style="fill:none;stroke-width:1.1"><path d="m354.91.55h157.02v41.97h-157.02z" style="stroke:#3465a4"/><path d="m354.91 50.36h157.71v90.39h-157.71z" style="stroke:#00f"/><path d="m171.61 99.47h173.62v41.97h-173.62z" style="stroke:#00f"/><path d="m180.6 459.17h157.02v41.97h-157.02z" style="stroke:#505050"/><path d="m349.38 459.17h157.02v41.97h-157.02z" style="stroke:#505050"/><g style="stroke:#f00"><path d="m89.27 215.97h166.01v89.35h-166.01z"/><path d="m89.14 215.83h502.19v183.29h-502.19z"/></g></g><g style="font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0;fill:#000" transform="translate(99.9 163.29)"><text x="130.88" y="160.53"><tspan x="130.88" y="160.53">ALSA</tspan><tspan x="130.88" y="170.53">The kernel interface for audio</tspan><tspan x="130.88" y="180.53">The glue between drivers and user space</tspan></text><text x="-3.88" y="66.92"><tspan x="-3.88" y="66.92">PCM interface</tspan><tspan x="-3.88" y="76.92">Transfer audio sample stream from</tspan><tspan x="-3.88" y="86.92">user space to hardware buffers</tspan></text><text x="159.48" xml:space="preserve" y="106.42"><tspan x="159.48" y="106.42">CTL interface</tspan><tspan x="159.48" y="116.42">Logical view of hardware controls</tspan><tspan x="159.48" y="126.42">(channel mapping, hardware mixing, </tspan><tspan x="159.48" y="136.42">3D spatializer processsing ...)</tspan></text><text x="159.72" xml:space="preserve" y="64.98"><tspan x="159.72" y="64.98">Mixer interface </tspan><tspan x="159.72" y="74.98">subset of the CTL interface </tspan><tspan x="159.72" y="84.98">handling volume</tspan></text><text x="373.56" y="67.2"><tspan x="373.56" y="67.2">Other interfaces</tspan><tspan x="373.56" y="77.2">Timers, MIDI sequencers ...</tspan></text><text x="44.77" y="204.96"><tspan x="44.77" y="204.96">snd_hda_core</tspan><tspan x="44.77" y="214.96">Kernel module for mother board</tspan><tspan x="44.77" y="224.96">integrated chipset</tspan></text><text x="294.78" y="209.87"><tspan x="294.78" y="209.87">snd_usb_audio</tspan><tspan x="294.78" y="219.87">Kernel module for external cards</tspan></text></g><g style="fill:none;stroke-width:1.1"><g style="stroke:#f00"><path d="m255.15 215.89h124.16v40.24h-124.16z"/><path d="m469.57 215.85h121.74v89.33h-121.74z"/><path d="m255.13 215.85h214.26v89.53h-214.26z"/><path d="m89.15 353.57h252.17v45.77h-252.17z"/><path d="m341.41 353.51h249.75v45.77h-249.75z"/></g><path d="m170.84 409.63h342.14v100.16h-342.14z" style="stroke:#505050;stroke-dasharray:6.6 2.2"/></g><g style="fill:#000;font-size:10;font-family:Droid Sans;letter-spacing:-.25;word-spacing:0" transform="translate(92.29 163.29)"><text x="84.36" y="258.9"><tspan x="84.36" y="258.9">Hardware</tspan><tspan x="84.36" y="268.9">Each card may present multiple inputs/outputs</tspan><tspan x="84.36" y="278.9">(digital out, mic in, headphone jack, surround ...)</tspan></text><g transform="translate(7.61)"><text x="103.58" y="319.33"><tspan x="103.58" y="319.33">Integrated audio chipset</tspan></text><text x="288.26" y="320.15"><tspan x="288.26" y="320.15">External amplifier</tspan></text><text x="107.12" y="381.05"><tspan x="107.12" y="381.05">In/Out (analog stereo out, digital out, mic in, ....)</tspan></text></g></g><g style="fill:none;stroke-width:1.1;stroke:#505050"><path d="m203.08 528.89v-28.41" style="marker-start:url(#a)"/><path d="m245.27 529.09v-28.41" style="marker-start:url(#b)"/><path d="m290.24 529.09v-28.41" style="marker-start:url(#c)"/><path d="m408.52 529.09v-28.41" style="marker-start:url(#d)"/></g></svg>
